{"version":3,"sources":["middleware/uploadImage.js","views/app-views/course_material/AddNew.js"],"names":["uploadImage","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","file","formData","response","wrap","_context","prev","next","FormData","append","axios","post","concat","API_BASE_URL","sent","console","log","data","abrupt","url","t0","error","stop","_x","apply","arguments","AddNew","_useState","useState","_useState2","_slicedToArray","selectedFiles","setSelectedFiles","_useState3","_useState4","courseTitle","setCourseTitle","location","useLocation","id","URLSearchParams","search","get","history","useHistory","styles","files","listStyle","display","alignItems","justifyContent","gap","border","padding","borderRadius","background","uploadFile","position","width","height","opacity","visibility","content","cursor","backgroundColor","addCourseMaterial","course_id","course_material_name","file_type","name","split","URL","created_by","status","goBack","_jsxs","_Fragment","children","className","_jsx","Input","min","value","onChange","e","target","placeholder","xmlns","fill","viewBox","d","style","color","type","event","fileList","accept","UploadFileIcon","onClick","CloseCircleOutlined","Button","htmlType"],"mappings":"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","file":"static/js/81.12600560.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport { API_BASE_URL } from 'constants/ApiConstant';\r\nconst uploadImage = async(file)=>{\r\n    try {\r\n        const formData = new FormData();\r\n        formData.append(\"file\", file);\r\n    \r\n        const response = await axios.post(`${API_BASE_URL}/upload`, formData);\r\n        console.log('Upload successful!', response.data);\r\n        return response.data.url;\r\n        // Handle successful response here\r\n      } catch (error) {\r\n        console.error('Upload failed!', error);\r\n        // Handle error here\r\n      }\r\n}\r\n\r\nexport default uploadImage;","import React, { useEffect, useState } from \"react\";\r\nimport { Button, Input } from \"antd\";\r\nimport { UploadFileIcon } from \"assets/svg/icon\";\r\nimport { CloseCircleOutlined } from \"@ant-design/icons\";\r\nimport axios from \"axios\";\r\nimport { useHistory, useLocation } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport uploadImage from \"middleware/uploadImage\";\r\nimport { API_BASE_URL } from \"constants/ApiConstant\";\r\nconst AddNew = () => {\r\n  const [selectedFiles, setSelectedFiles] = useState(null);\r\n  const [courseTitle, setCourseTitle] = useState('')\r\n  const location = useLocation();\r\n  const queryParams = new URLSearchParams(location.search);\r\n  const id = queryParams.get(\"id\");\r\n  const history = useHistory();\r\n  let styles = {\r\n    files: {\r\n      listStyle: \"none\",\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      justifyContent: \"space-between\",\r\n      gap: \"13px\",\r\n      border: \"1px solid lightblue\",\r\n      padding: \"10px\",\r\n      borderRadius: \"9px\",\r\n      background: \"#0093ff0a\",\r\n    },\r\n    uploadFile: {\r\n      position: \"absolute\",\r\n      width: \"100%\",\r\n      height: \"100%\",\r\n      opacity: 0,\r\n    },\r\n\r\n    // Add the new styles here:\r\n\r\n    \".uploadFile::-webkit-file-upload-button\": {\r\n      visibility: \"hidden\",\r\n    },\r\n\r\n    \".uploadFile::before\": {\r\n      content: \"'Drag & Drop'\",\r\n      display: \"inline-block\",\r\n      padding: \"10px\",\r\n      border: \"1px solid #ccc\",\r\n      borderRadius: \"4px\",\r\n      cursor: \"pointer\",\r\n    },\r\n\r\n    \".uploadFile:hover::before\": {\r\n      backgroundColor: \"#ccc\",\r\n    },\r\n  };\r\n  function handleFileSelect(event) {\r\n    const fileList = event.target.files;\r\n    // const newSelectedFiles = [];\r\n\r\n    // for (let i = 0; i < fileList.length; i++) {\r\n    //   newSelectedFiles.push(fileList[i]);\r\n    // }\r\n    //   console.log(selectedFiles)\r\n\r\n    // setSelectedFiles([...selectedFiles, newSelectedFiles[0]]);\r\n    setSelectedFiles(fileList);\r\n  }\r\n  const delUplFile = () => {\r\n    // let AfterDeleteFile = selectedFiles.filter((elem, index) => {\r\n    //   return index !== i;\r\n    // });\r\n    setSelectedFiles(null);\r\n  };\r\n  const addCourseMaterial = async () => {\r\n    const url = await uploadImage(selectedFiles[0]);\r\n    console.log(courseTitle,selectedFiles);\r\n    const data = {\r\n      course_id:id,\r\n      course_material_name:courseTitle,\r\n      file_type:selectedFiles[0].name.split('.')[1],\r\n      // file:selectedFiles,\r\n      URL:url,\r\n      created_by:\"Admin\",\r\n      status:1\r\n    }\r\n    const res1 = await axios.post(`${API_BASE_URL}/course-curriculum/course-materials`,data)\r\n    // console.log(res1);\r\n    history.goBack();\r\n  }\r\n  return (\r\n    <>\r\n      <div className=\"border rounded p-3 mt-4 bg-white\">\r\n        <div className=\"w-50 mb-4 mt-3\">\r\n          <h5>Title</h5>\r\n          <Input min={4} value={courseTitle} onChange={(e)=>setCourseTitle(e.target.value)} placeholder=\"Type here\" />\r\n        </div>\r\n        <div className=\"d-flex flex-column justify-content-center align-items-center position-relative uploaddoc\">\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"64\"\r\n            height=\"64\"\r\n            fill=\"none\"\r\n            viewBox=\"0 0 64 64\"\r\n          >\r\n            <path\r\n              fill=\"#0E7CEB\"\r\n              d=\"M18.57 15.51l7.86 7a2 2 0 001.33.51H56v34.9A2.93 2.93 0 0153.26 61H5.74A2.93 2.93 0 013 57.92V18a2.85 2.85 0 012.68-3h11.56a2 2 0 011.33.51z\"\r\n            ></path>\r\n            <path fill=\"#D7E6EF\" d=\"M49 57H7V3h42v54z\"></path>\r\n            <path fill=\"#0E7CEB\" d=\"M45 23h16v-6a2 2 0 00-2-2h-6l-8 8z\"></path>\r\n            <path fill=\"#F7FCFF\" d=\"M14 9h42v14H14V9z\"></path>\r\n            <path\r\n              fill=\"#0E7CEB\"\r\n              d=\"M25.69 15.51l7.42 7a1.8 1.8 0 001.25.51H61v34.9A2.87 2.87 0 0158.41 61H13.59A2.87 2.87 0 0111 57.92V18a2.79 2.79 0 012.53-3h10.9c.47 0 .922.184 1.26.51z\"\r\n            ></path>\r\n            <path\r\n              fill=\"#F7FCFF\"\r\n              d=\"M36 55c7.18 0 13-5.82 13-13s-5.82-13-13-13-13 5.82-13 13 5.82 13 13 13z\"\r\n            ></path>\r\n            <path\r\n              fill=\"#D7E6EF\"\r\n              d=\"M52 13H32a1 1 0 000 2h20a1 1 0 000-2zm0 4H37a1 1 0 000 2h15a1 1 0 000-2z\"\r\n            ></path>\r\n            <path\r\n              fill=\"#44394A\"\r\n              d=\"M36.5 49.28l6.72-6.72a5.501 5.501 0 00-7.78-7.78l-8.84 8.84a1.002 1.002 0 000 1.42A1 1 0 0028 45l8.84-8.84a3.5 3.5 0 114.95 4.95l-6.71 6.71a1.998 1.998 0 01-3.38-.571A2 2 0 0132.26 45L39 38.32a.5.5 0 01.71 0 .48.48 0 010 .71l-6 6a1 1 0 101.42 1.41l6-6a2.503 2.503 0 00-3.54-3.54l-6.72 6.72a4 4 0 000 5.66 4.003 4.003 0 005.66 0h-.03z\"\r\n            ></path>\r\n          </svg>\r\n          <h5 className=\"mb-0 mt-2\">Drag & Drop Files Here</h5>\r\n          <h5 className=\"mb-0\">Or</h5>\r\n          <h5 className=\"mb-0\" style={{ color: \"#4096ff\" }}>\r\n            Choosen File\r\n          </h5>\r\n          <input\r\n            style={styles.uploadFile}\r\n            className=\"uploadFile\"\r\n            type=\"file\"\r\n            // multiple\r\n            onChange={handleFileSelect}\r\n            accept=\".pdf,.mp3,.mp4\"\r\n          />\r\n        </div>\r\n        <div className=\"mt-4\">\r\n          {selectedFiles  && (\r\n            <ul className=\"p-0\" style={{ width: \"40%\" }}>\r\n              {/* {selectedFiles.map((file, i) => ( */}\r\n                <li key={selectedFiles[0].name} className=\"my-3\" style={styles.files}>\r\n                  {\" \"}\r\n                  <div className=\"d-flex align-items-start\">\r\n                    <UploadFileIcon />{\" \"}\r\n                    <span className=\"ml-2\">{selectedFiles[0].name} <p className=\"m-0\">Uploaded 1min ago</p></span>{\" \"}\r\n                  </div>\r\n                  <span\r\n                    style={{ cursor: \"pointer\" }}\r\n                    onClick={() => delUplFile()}\r\n                  >\r\n                    {\" \"}\r\n                    <CloseCircleOutlined />{\" \"}\r\n                  </span>\r\n                </li>\r\n              {/* ))} */}\r\n            </ul>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div style={{ gap: \"10px\" }} className=\"mt-5 d-flex justify-content-end\">\r\n        <Button\r\n          className=\"px-4 font-weight-semibold\"\r\n          htmlType=\"button\"\r\n          onClick={() => history.goBack()}\r\n        >\r\n          Back\r\n        </Button>\r\n        <Button className=\"px-4 font-weight-semibold\" htmlType=\"button\">\r\n          Clear All\r\n        </Button>\r\n\r\n        <Button\r\n          className=\"px-4 font-weight-semibold text-white bg-info\"\r\n          onClick={addCourseMaterial}\r\n        >\r\n          Save\r\n        </Button>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddNew;\r\n"],"sourceRoot":""}