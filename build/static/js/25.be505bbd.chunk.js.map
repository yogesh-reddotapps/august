{"version":3,"sources":["views/app-views/notification/edit/index.js"],"names":["Edit","id","URLSearchParams","document","location","search","get","_useState","useState","_useState2","_slicedToArray","notiText","setNotiText","_useState3","_useState4","notiTit","setNotiTit","history","useHistory","addNoti","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","_res","res1","wrap","_context","prev","next","message","error","abrupt","notification_title","description","status","action","type","axios","put","concat","API_BASE_URL","sent","goBack","success","msg","post","console","log","stop","apply","arguments","getNotification","_ref2","_callee2","_context2","useEffect","_jsxs","_Fragment","children","className","_jsx","Button","htmlType","onClick","style","height","Input","value","placeholder","onChange","e","target","ReactQuill","theme"],"mappings":"uPAwFeA,UAjFF,WACX,IACMC,EADe,IAAIC,gBAAgBC,SAASC,SAASC,QACnCC,IAAI,MAC5BC,EAAgCC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAArCI,EAAQF,EAAA,GAAEG,EAAWH,EAAA,GAC5BI,EAA8BL,mBAAS,IAAGM,EAAAJ,YAAAG,EAAA,GAAnCE,EAAOD,EAAA,GAAEE,EAAUF,EAAA,GACpBG,EAAUC,uBACVC,EAAO,eAAAC,EAAAC,YAAAC,IAAAC,MAAG,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAA,OAAAL,IAAAM,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACTpB,GAAWI,EAAO,CAAAc,EAAAE,KAAA,QACkC,OAAvDC,IAAQC,MAAM,yCAAyCJ,EAAAK,OAAA,iBASvD,GANET,EAAO,CACTU,mBAAoBpB,EACpBqB,YAAazB,EACb0B,OAAQ,EACRC,OAAQ,EACRC,KAAM,WAEJtC,EAAG,CAAD4B,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,EACeS,IAAMC,IAAI,GAADC,OAAIC,IAAY,mBAAAD,OAAkBzC,GAAKwB,GAAM,KAAD,EAM3C,OALb,OADVE,EAAIE,EAAAe,MACHP,SACPzB,EAAY,IACZI,EAAW,IACXC,EAAQ4B,UAEVb,IAAQc,QAAQnB,EAAKF,KAAKsB,KAAKlB,EAAAK,OAAA,yBAAAL,EAAAE,KAAA,GAGZS,IAAMQ,KAAK,GAADN,OAAIC,IAAY,kBAAiBlB,GAAM,KAAD,GACjD,OADZE,EAAIE,EAAAe,MACDP,SACPzB,EAAY,IACZI,EAAW,IACXC,EAAQ4B,UAEVI,QAAQC,IAAIvB,GAAM,yBAAAE,EAAAsB,UAAA3B,OACnB,kBA7BY,OAAAJ,EAAAgC,MAAA,KAAAC,YAAA,GA8BPC,EAAe,eAAAC,EAAAlC,YAAAC,IAAAC,MAAG,SAAAiC,IAAA,IAAA7B,EAAA,OAAAL,IAAAM,MAAA,SAAA6B,GAAA,cAAAA,EAAA3B,KAAA2B,EAAA1B,MAAA,cAAA0B,EAAA1B,KAAA,EACHS,IAAMlC,IAAI,GAADoC,OAAIC,IAAY,mBAAAD,OAAkBzC,IAAK,OAA7D0B,EAAI8B,EAAAb,KACVK,QAAQC,IAAIvB,EAAKF,KAAK,IACtBT,EAAWW,EAAKF,KAAK,GAAGU,oBACxBvB,EAAYe,EAAKF,KAAK,GAAGW,aAAY,wBAAAqB,EAAAN,UAAAK,OACtC,kBALoB,OAAAD,EAAAH,MAAA,KAAAC,YAAA,GAYrB,OANAK,qBAAU,WACJzD,GACJqD,MAEC,IAGDK,eAAAC,WAAA,CAAAC,SAAA,CACEF,eAAA,OAAKG,UAAU,8DAA6DD,SAAA,CAC1EE,cAAA,MAAAF,SAAI,kBACJF,eAAA,OAAAE,SAAA,CACEE,cAACC,IAAM,CACLF,UAAU,iCACVG,SAAS,SACTC,QAAS,kBAAMjD,EAAQ4B,UAASgB,SACjC,SAGDE,cAACC,IAAM,CACLF,UAAU,+CACVI,QAAS/C,EAAQ0C,SAClB,eAKLE,cAAA,OAAKD,UAAU,oFAAmFD,SAChGF,eAAA,OAAKG,UAAU,YAAYK,MAAO,CAAEC,OAAQ,QAASP,SAAA,CACnDE,cAAA,MAAAF,SAAI,uBACJE,cAACM,IAAK,CAACC,MAAOvD,EAASwD,YAAY,QAAQC,SAAU,SAACC,GAAC,OAAGzD,EAAWyD,EAAEC,OAAOJ,UAC9EP,cAAA,SACAA,cAAA,MAAID,UAAU,OAAMD,SAAC,sBACrBE,cAACY,IAAU,CAACC,MAAM,OAAON,MAAO3D,EAAU6D,SAAU5D","file":"static/js/25.be505bbd.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport ReactQuill from \"react-quill\";\r\nimport \"react-quill/dist/quill.snow.css\";\r\nimport { Button, Input, message } from \"antd\";\r\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport axios from \"axios\";\r\nimport { API_BASE_URL } from \"constants/ApiConstant\";\r\nconst Edit = () => {\r\n  const searchParams = new URLSearchParams(document.location.search);\r\n  const id = searchParams.get(\"id\");\r\n  const [notiText, setNotiText] = useState(\"\");\r\n  const [notiTit, setNotiTit] = useState('')\r\n  const history = useHistory();\r\n  const addNoti = async () => {\r\n    if (!notiText||!notiTit) {\r\n      message.error('Please enter title  and description !');\r\n      return\r\n    }\r\n    let data = {\r\n      notification_title: notiTit,\r\n      description: notiText,\r\n      status: 1,\r\n      action: 1,\r\n      type: \"system\",\r\n    };\r\n    if (id) {\r\n      const res1 = await axios.put(`${API_BASE_URL}/notifications/${id}`,data);\r\n    if (res1.status===201) {\r\n      setNotiText('');\r\n      setNotiTit('')\r\n      history.goBack()\r\n    }\r\n    message.success(res1.data.msg);\r\n    return\r\n    }\r\n    const res1 = await axios.post(`${API_BASE_URL}/notifications`,data);\r\n    if (res1.status===201) {\r\n      setNotiText('');\r\n      setNotiTit('')\r\n      history.goBack()\r\n    }\r\n    console.log(res1);\r\n  };\r\n  const getNotification = async () => {\r\n    const res1 = await axios.get(`${API_BASE_URL}/notifications/${id}`)\r\n    console.log(res1.data[0]);\r\n    setNotiTit(res1.data[0].notification_title)\r\n    setNotiText(res1.data[0].description)\r\n  }\r\n  useEffect(() => {\r\n    if (id) {\r\n    getNotification()\r\n  }\r\n  }, [])\r\n  \r\n  return (\r\n    <>\r\n      <div className=\"py-3 mb-4 d-flex justify-content-between align-items-center\">\r\n        <h5>Notifications</h5>\r\n        <div>\r\n          <Button\r\n            className=\"mr-4 px-4 font-weight-semibold\"\r\n            htmlType=\"button\"\r\n            onClick={() => history.goBack()}\r\n          >\r\n            Back\r\n          </Button>\r\n          <Button\r\n            className=\"px-4 font-weight-semibold text-white bg-info\"\r\n            onClick={addNoti}\r\n          >\r\n            Save\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <div className=\"border rounded p-3 mb-4 bg-white d-flex justify-content-center align-items-center\">\r\n        <div className=\"w-50 pt-5\" style={{ height: \"60vh\" }}>\r\n          <h5>Notification Title</h5>\r\n          <Input value={notiTit} placeholder=\"Title\" onChange={(e)=>setNotiTit(e.target.value)} />\r\n          <br />\r\n          <h5 className=\"mt-5\">Notification Text</h5>\r\n          <ReactQuill theme=\"snow\" value={notiText} onChange={setNotiText} />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Edit;\r\n"],"sourceRoot":""}