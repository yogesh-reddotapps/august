{"version":3,"sources":["../node_modules/antd/es/_util/hooks/useFlexGapSupport.js","axios.js","views/app-views/admin-management/index.js"],"names":["_React$useState","React","_React$useState2","_slicedToArray","flexible","setFlexible","detectFlexGapSupported","instance","axios","create","baseURL","headers","MembershipRequest","_useState","useState","membershipRequest","_useState2","membershipRequestData","setmembershipRequestData","_useState3","_useState4","_useState5","_useState6","refereshTog","setRefereshTog","_useState7","_useState8","modal2Open","setModal2Open","_useState9","_useState10","idToDelete","setIdTodelete","handleDelete","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","Oid","data","wrap","_context","prev","next","user_id","post","sent","success","alert","stop","_x","apply","arguments","useEffect","then","res","console","log","catch","error","membershipRequestColumns","title","dataIndex","render","avatar","_jsx","src","concat","text","className","children","record","_Fragment","EllipsisDropdown","menu","_jsxs","Menu","Item","onClick","id","DeleteOutlined","Link","to","CustomIcon","svg","Edit","SearchBox","Filter","Button","icon","Icon","component","FilterIcon","ExportIcon","Helper","clients","attribiue","Modal","centered","visible","onOk","onCancel","okText","cancelText","okButtonProps","style","backgroundColor","width","color","fontSize","fontWeight"],"mappings":"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","file":"static/js/67.d4d5e7e7.chunk.js","sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { detectFlexGapSupported } from '../styleChecker';\nexport default (function () {\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      flexible = _React$useState2[0],\n      setFlexible = _React$useState2[1];\n\n  React.useEffect(function () {\n    setFlexible(detectFlexGapSupported());\n  }, []);\n  return flexible;\n});","import axios from \"axios\";\r\nconst instance = axios.create({\r\n  baseURL: \"http://18.140.159.50:3333/\",\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\n\r\nexport default instance","import { Button, Form, Input, Menu, Select, Switch } from \"antd\";\r\nimport EllipsisDropdown from \"components/shared-components/EllipsisDropdown\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport \"../Membership_Request/MembershipRequest.css\";\r\nimport { DeleteOutlined, CloseOutlined, EyeOutlined } from \"@ant-design/icons\";\r\nimport { membershipRequest } from \"../data\";\r\nimport CustomIcon from \"components/util-components/CustomIcon\";\r\nimport {\r\n  Account,\r\n  Edit,\r\n  Export,\r\n  ExportIcon,\r\n  FilterIcon,\r\n  History,\r\n  Verified,\r\n} from \"assets/svg/icon\";\r\nimport Helper from \"../Helper\";\r\nimport { Modal, Drawer } from \"antd\";\r\n// import Drawer from 'react-modern-drawer'\r\nimport axios from \"../../../axios\";\r\nimport \"react-modern-drawer/dist/index.css\";\r\nimport SearchBox from \"components/shared-components/SearchBox\";\r\nimport Filter from \"components/shared-components/Filter\";\r\nimport Icon from \"@ant-design/icons\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function MembershipRequest() {\r\n  const [membershipRequestData, setmembershipRequestData] =\r\n    useState(membershipRequest);\r\n  const [visible, setVisible] = useState(false);\r\n  const [refereshTog, setRefereshTog] = useState(false)\r\n  const showDrawer = () => {\r\n    setVisible(true);\r\n  };\r\n\r\n  const onClose = () => {\r\n    setVisible(false);\r\n  };\r\n\r\n  const [modal2Open,setModal2Open]=useState(false);\r\n  const [idToDelete,setIdTodelete]=useState();\r\n\r\n  // const showModal = () => {\r\n  //   setIsModalOpen(true);\r\n  //   handleOk();\r\n  // };\r\n\r\n  // const handleOk = () => {\r\n  //   setTimeout(() => {\r\n  //     setIsModalOpen(false);\r\n  //   }, 5000);\r\n  // };\r\n\r\n  // const handleCancel = () => {\r\n  //   setIsModalOpen(false);\r\n  // };\r\n\r\n  const getEvents = () => {\r\n    axios\r\n      .post(\"/api/get-admins\")\r\n      .then((res) => {\r\n        console.log(res.data);\r\n\r\n        setmembershipRequestData(res.data);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  const onDeleteData = (id) => {\r\n    setModal2Open(true);\r\n    setIdTodelete(id);\r\n  }\r\n  const handleDelete = async (Oid) => {\r\n    let data = {\r\n      user_id:Oid\r\n    };\r\n    const response = await axios.post(\r\n      \"http://18.140.159.50:3333/api/delete-admin\",\r\n      data,\r\n      {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      }\r\n    );\r\n    if(response.data.success){\r\n      setRefereshTog(refereshTog?false:true)\r\n      \r\n    }\r\n    else{\r\n      alert(\"Cant Delete\")\r\n    }\r\n    \r\n\r\n  };\r\n\r\n  useEffect(() => {\r\n    getEvents();\r\n  }, [refereshTog]);\r\n\r\n  const membershipRequestColumns = [\r\n    {\r\n      title: \"User ID\",\r\n      dataIndex: \"id\",\r\n    },\r\n    {\r\n      dataIndex: \"avatar\",\r\n      render: (avatar) => {\r\n        return <img src={`${avatar}`} />;\r\n      },\r\n    },\r\n    {\r\n      title: \"Admin Username\",\r\n      dataIndex: \"name\",\r\n    },\r\n\r\n    {\r\n      title: \"Mobile Number\",\r\n      dataIndex: \"phone_number\",\r\n    },\r\n    {\r\n      title: \"Email ID\",\r\n      dataIndex: \"email\",\r\n    },\r\n    {\r\n      title: \"DOB\",\r\n      dataIndex: \"dob\",\r\n    },\r\n    {\r\n      title: \"Last Login Date\",\r\n      dataIndex: \"lastLoginTime\",\r\n    },\r\n    {\r\n      title: \"Status\",\r\n      dataIndex: \"status\",\r\n      render: (text) => {\r\n        return (\r\n          <div\r\n            className={`${\r\n              text !== \"Active\" ? \"text-danger\" : \"text-success\"\r\n            } font-weight-semibold`}\r\n          >\r\n            {text}\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"Action\",\r\n      // dataIndex: 'action',\r\n      render: (record) => {\r\n        return (\r\n          <>\r\n            <EllipsisDropdown\r\n              menu={\r\n                <Menu>\r\n                  <Menu.Item>\r\n                    <span onClick={() => onDeleteData(record.user_id)}>\r\n                      {\" \"}\r\n                      <DeleteOutlined className=\"mr-2 \" />\r\n                      Delete\r\n                    </span>\r\n                  </Menu.Item>\r\n                  <Menu.Item>\r\n                    <Link to={`admin_management/edit?id=${record.user_id}`}>\r\n                      <span className=\"d-flex align-items-center\">\r\n                        <CustomIcon className=\"mr-2\" svg={Edit} />\r\n                        Edit\r\n                      </span>\r\n                    </Link>\r\n                  </Menu.Item>\r\n                </Menu>\r\n              }\r\n            />\r\n          </>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"d-flex justify-content-between mb-3\">\r\n        <div className=\"memberDetailTableSearchFilter\">\r\n          <SearchBox />\r\n          <Filter>\r\n            <Button\r\n              icon={<Icon component={FilterIcon} />}\r\n              className=\"d-flex align-items-center ml-2\"\r\n            >\r\n              Filters\r\n            </Button>\r\n          </Filter>\r\n          <Button\r\n            icon={<Icon component={ExportIcon} />}\r\n            className=\"d-flex align-items-center ml-2\"\r\n          >\r\n            Export\r\n          </Button>\r\n        </div>\r\n        <Link\r\n          to=\"admin_management/add_new\"\r\n          className=\"bg-info d-flex align-items-center rounded text-white font-weight-semibold px-4\"\r\n        >\r\n          {\" \"}\r\n          + Add New Admin\r\n        </Link>\r\n      </div>\r\n      <div>\r\n        <Helper\r\n          clients={membershipRequestData}\r\n          attribiue={membershipRequestColumns}\r\n        />\r\n      </div>\r\n      <Modal\r\n        // title=\"Vertically centered modal dialog\"\r\n        centered\r\n        visible={modal2Open}\r\n        onOk={() =>{setModal2Open(false)\r\n            handleDelete(idToDelete);\r\n        }}\r\n        onCancel={() => setModal2Open(false)}\r\n        okText=\"Yes,Confirm\"\r\n        cancelText=\"No,Cancel\"\r\n        okButtonProps={{style: { backgroundColor: '#0068B3' ,width:\"30%\"} }}  \r\n      >\r\n       <div style={{color:\"#000B23\",fontSize:\"18px\",fontWeight:\"600\"}}>Sure you want to delete?</div>\r\n       <div>It will be delete from the system</div>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}